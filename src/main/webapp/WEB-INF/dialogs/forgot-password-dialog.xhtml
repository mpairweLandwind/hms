<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <p:dialog id="forgotPasswordDialog" 
              widgetVar="forgotPasswordDialog" 
              modal="true" 
              closable="true" 
              responsive="true"
              width="400"
              styleClass="forgot-dialog">
        <f:facet name="header">
            <div class="dialog-header">
                <i class="pi pi-key" aria-hidden="true"></i>
                <span>Reset Password</span>
            </div>
        </f:facet>
        
        <div class="forgot-content">
            <p class="forgot-description">
                Enter your email address and we'll send you a link to reset your password.
            </p>
            
            <h:form id="forgotPasswordForm">
                <div class="form-group">
                    <p:outputLabel for="resetEmail" value="Email Address" styleClass="form-label">
                        <i class="pi pi-envelope label-icon" aria-hidden="true"></i>
                    </p:outputLabel>
                    <p:inputText id="resetEmail" 
                               value="#{authController.resetEmail}" 
                               required="true" 
                               placeholder="Enter your email address"
                               styleClass="form-input"/>
                </div>
                
                <div class="form-actions">
                    <p:commandButton value="Send Reset Link" 
                                   icon="pi pi-send" 
                                   styleClass="btn btn-primary btn-full"
                                   action="#{authController.sendPasswordReset}"
                                   update="forgotPasswordForm forgotMessages"
                                   onstart="showLoading('Sending reset link...')"
                                   oncomplete="hideLoading()"/>
                </div>
                
                <p:messages id="forgotMessages" showDetail="true" closable="true"/>
            </h:form>
            
            <div class="forgot-footer">
                <p>Remember your password? 
                   <a href="#" onclick="PF('forgotPasswordDialog').hide(); return false;">Sign in</a>
                </p>
            </div>
        </div>
    </p:dialog>

</ui:composition>
